<html>
<head>
	<meta charset="utf-8"/>
	<style>
	td { border: 1px solid black; width: 42px;height:42px;text-align:center;}
	</style>
</head>

	<p style="color:red" id="mensagem"></p>
<table>
	<tr>
		<td onclick='verificarCelula(this)'></td>
		<td onclick='verificarCelula(this)'>a</td>
		<td onclick='verificarCelula(this)'></td>
	</tr>
	<tr>
		<td onclick='verificarCelula(this)'></td>
		<td onclick='verificarCelula(this)'>5</td>
		<td onclick='verificarCelula(this)'></td>
	</tr>
	<tr>
		<td onclick='verificarCelula(this)'>2</td>
		<td onclick='verificarCelula(this)'>      </td>
		<td onclick="verificarCelula(this)">4</td>
	</tr>
</table>

<a href="#" onclick="reiniciarJogo()">Reiniciar jogo</a>

<script>
var jogador = "";
// função que eh chamada quando clico numa celula da tabela
function verificarCelula (celula){
	// se a celula estiver fazia
	var conteudo_celula = celula.innerHTML;
	
	// limpando espaços
	conteudo_celula = conteudo_celula.trim();
	
	// checko se a celula esta vazia
	if (conteudo_celula == ""){
		// se o jogador é o x
		if (jogador == "X"){
			celula.innerHTML = "X"
			jogador = "0"
		// senao
		}else{
			celula.innerHTML = "0"
			jogador = "X"
		}
		var vencedor = verificaVencedor()
		if (vencedor!= "") { {
				alert("vencedor: "+vencedor)
				reiniciarJogo();
			};
		}
	// senão
	}else {
		mensagem("a celulá esta cheia com esse caracter:'" + conteudo_celula + "'")
	}
}

function reiniciarJogo(){
	var tds = document.getElementsByTagName('td')
	for (i=0;i< tds.length; i++) tds[i].innerHTML = ""
}

// função para exibir mensagem no html e não no alert
function mensagem(texto){
	document.getElementById("mensagem").innerHTML = texto;
}


var celulas;
function verificaVencedor() {
  // celulas html com os tds
  celulas = document.getElementsByTagName('td');
  
  // linhas de possibilidades de ganhador
  var linhas = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6],
  ];
  
  // testa para cada uma das possibilidades se existe ganhador
  for (var i = 0; i < linhas.length; i++) {
     var a = linhas[i][0];
	 var b = linhas[i][1];
	 var c = linhas[i][2];
	 var cA = celulas[a].innerHTML;
	 var cB = celulas[b].innerHTML;
	 var cC = celulas[c].innerHTML;
	 if (cA != "" && cA  == cB  && cA  == cC) {
      return cA;
    }
  }
  return "";
}

// reinicia o jogo ao carregar a pagina.
reiniciarJogo();

</script>
